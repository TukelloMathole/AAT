@inject IJSRuntime js

<div class="container mt-3">
    <ul class="nav nav-pills mb-3 flex space-x-2" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
            <NavLink class="nav-link active custom-nav-link px-2 py-1 text-sm" href="" Match="NavLinkMatch.All" aria-controls="pills-home" aria-selected="false">
                <span class="bi bi-house-door-fill-nav-menu text-lg" aria-hidden="true"></span> Home
            </NavLink>
        </li>
        <li class="nav-item" role="presentation">
            <NavLink class="nav-link custom-nav-link px-2 py-1 text-sm" href="events" aria-controls="pills-events" aria-selected="false">
                <span class="bi bi-list-nested-nav-menu text-lg" aria-hidden="true"></span> Events
            </NavLink>
        </li>
        @if (!isLoggedIn)
        {
            <li class="nav-item" role="presentation">
                <NavLink class="nav-link custom-nav-link px-2 py-1 text-sm" href="LogIn" aria-controls="pills-login" aria-selected="false">
                    <span class="bi bi-person-nav-menu text-lg" aria-hidden="true"></span> LogIn
                </NavLink>
            </li>
        }
    </ul>
</div>

@code {
    private bool isLoggedIn;

    protected override async Task OnInitializedAsync()
    {
        // Check local storage to see if the user is logged in
        var token = await js.InvokeAsync<string>("localStorage.getItem", "authToken");
        isLoggedIn = !string.IsNullOrEmpty(token);
    }
}